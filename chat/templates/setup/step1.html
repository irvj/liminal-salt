{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Setup - Liminal Salt</title>
    <script>
        (function() {
            const theme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', theme);
        })();
    </script>
    <link rel="stylesheet" href="{% static 'css/output.css' %}">
</head>
<body class="font-sans bg-surface text-foreground">
    <div class="max-w-xl mx-auto mt-12 p-5">
        <h1 class="text-accent-cyan text-2xl mb-4">ðŸ§‚ Welcome to Liminal Salt</h1>
        <p class="text-foreground-secondary mb-6">Let's get you set up! This will only take a minute.</p>

        <h2 class="text-xl text-foreground mb-2">Step 1: OpenRouter API Key</h2>
        <p class="text-foreground-secondary text-sm mb-4">Get your API key from <a href="https://openrouter.ai/keys" target="_blank" class="text-accent-cyan hover:underline">OpenRouter</a></p>

        {% if error %}
        <div class="p-3 px-4 rounded mb-4 bg-danger text-white">{{ error }}</div>
        {% endif %}

        <form method="POST">
            {% csrf_token %}
            <div class="mb-5">
                <label for="api_key" class="block mb-2 font-medium">Enter your OpenRouter API key:</label>
                <input
                    type="password"
                    id="api_key"
                    name="api_key"
                    value="{{ api_key|default:'' }}"
                    placeholder="sk-or-v1-..."
                    required
                    autocomplete="off"
                    class="w-full p-3 border border-border rounded bg-surface-secondary text-foreground text-base focus:outline-none focus:border-accent-cyan"
                >
            </div>
            <button type="submit" class="px-6 py-3 bg-accent text-white rounded font-medium cursor-pointer hover:bg-accent-hover">Validate & Continue</button>
        </form>
    </div>
</body>
</html>
